<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Важное различие между С и С++ - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head>
<body>


<a href="../main.htm#07">Содержание</a> | <a href="0708.htm">&lt;&lt;&lt;</a> | <a href="0710.htm">&gt;&gt;&gt;</a><hr>
<h1>Важное различие между С и С++</h1>
<p class="tj">Что касается имен типов структур, объединений и перечислений, то между языками С и C++ имеется важное различие. Чтобы понять эту разницу, проанализируйте следующее объявление структуры:
<pre>
struct MyStruct {
  int a;
  int b;
} ;
</pre>
<p class="tj">В языке С имя <kbd>MyStruct</kbd> называется <em>тегом</em>. Чтобы объявить объект типа <kbd>MyStruct</kbd>, необходимо использовать выражение, аналогичное следующему:
<pre>struct MyStruct obj;</pre>
<p class="tj">Как можно заметить, перед именем <kbd>MyStruct</kbd> находится ключевое слово <kbd>struct</kbd>. Однако в C++ для этой операции достаточно использовать объявление покороче:
<pre>MyStruct obj; /* Нормально для C++, неправильно для C */</pre>
<p class="tj">В C++ не требуется ключевое слово <kbd>struct</kbd>. В C++, как только структура объявлена, можно объявлять переменные ее типа, используя только ее тег и не ставя перед ним ключевого слова <kbd>struct</kbd>. Дело здесь в том, что в С имя структуры не определяет полное имя типа. Вот почему в С это имя называется не полным именем, а тегом. Однако в C++ имя структуры является полным именем типа, и оно может использоваться для определения переменных. Не надо, впрочем, забывать, что до сих пор можно на вполне законных основаниях в программе на языке C++ использовать и объявление в стиле С.
<p class="tj">Все сказанное выше можно обобщить для объединений и перечислений. Таким образом, в С при объявлении объектов непосредственно перед тегом имени должно находиться одно из ключевых слов: <kbd>struct</kbd>, <kbd>union</kbd> или <kbd>enum</kbd> (в зависимости от конкретного случая). А в C++ ключевое слово не требуется.
<p class="tj">Так как для C++ подходят объявления в стиле С, то во время переноса программ из С в C++ по этому поводу беспокоиться нечего. Но при переносе из C++ в С соответствующие изменения сделать придется.
<p>
</p>
<hr><a href="../main.htm#07">Содержание</a> | <a href="0708.htm">&lt;&lt;&lt;</a> | <a href="0710.htm">&gt;&gt;&gt;</a>


</body>
</html>
