<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Массивы переменной длины - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head><body>
<a href="../main.htm#04">Содержание</a> | <a href="0408.htm">&lt;&lt;&lt;</a> | <a href="0410.htm">&gt;&gt;&gt;</a><hr>
<h1>Массивы переменной длины</h1>
<p class="tj">Как уже упоминалось, в С89 размер массива должен быть объявлен с помощью константных выражений. Поэтому компилятор С89 устанавливает фиксированный размер массива, не изменяющийся в процессе выполнения программы. Однако это не относится к С99, в котором определено новое мощное средство: массивы переменной длины. Стандарт С99 позволяет в объявлении размера массива использовать любые выражения, в том числе такие, значение которых становится известным только во время выполнения. Объявленный таким образом массив называется <em>массивом переменной длины</em>. Однако переменную длину могут иметь только локальные массивы (т.е. видимые в блоке или в прототипе). Приведем пример массива переменной длины:
<pre>
void f(int dim)
{
   char str[dim]; /* символьный массив переменной длины */
   /* ... */
}
</pre>
<p class="tj">Здесь размер массива <kbd>str</kbd> определяется значением переменной <kbd>dim</kbd>, которая передается в функцию <kbd>f()</kbd> как параметр. Таким образом, при каждом вызове <kbd>f()</kbd> создается массив <kbd>str</kbd> разной длины.
<p class="tj">Массивы переменной длины добавлены в С99 главным образом для поддержки численных методов обработки данных. В программировании это средство распространено достаточно широко. Однако следует помнить, что стандарт С89 (и некоторые компиляторы C++) не поддерживает массивы переменной длины. Более подробно этот вопрос рассматривается в <a href="../II.htm">части II</a>.
<p>
</p>
<hr><a href="../main.htm#04">Содержание</a> | <a href="0408.htm">&lt;&lt;&lt;</a> | <a href="0410.htm">&gt;&gt;&gt;</a>
</body>
</html>
