<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Передача одномерного массива в функцию - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head>
<body>


<a href="../main.htm#04">Содержание</a> | <a href="0402.htm">&lt;&lt;&lt;</a> | <a href="0404.htm">&gt;&gt;&gt;</a><hr>
<h1>Передача одномерного массива в функцию</h1>
<p class="tj">В языке С нельзя передать весь массив как аргумент функции. Однако можно передать указатель на массив, т.е. имя массива без индекса. Например, в представленной программе в <kbd>func1()</kbd> передается указатель на массив <kbd>i</kbd>:
<pre>
int main(void)
{
  int i[10];
  func1(i);
  /* ... */
}
</pre>
<p class="tj">Если в функцию передается указатель на одномерный массив, то в самой функции его можно объявить одним из трех вариантов: как указатель, как массив определенного размера и как массив без определенного размера. Например, чтобы функция <kbd>func1()</kbd> получила доступ к значениям, хранящимся в массиве <kbd>i</kbd>, она может быть объявлена как
<pre>
void func1(int *x) /* указатель */
{
  /* ... */
}
</pre>
<p class="t">или как
<pre>
void func1(int x[10]) /* массив определенного размера */
{
  /* ... */
}
</pre>
<p class="t">и наконец как
<pre>
void func1(int x[]) /* массив без определенного размера */
{
  /* ... */
}
</pre>
<p class="tj">Эти три объявления тождественны, потому что каждое из них сообщает компилятору одно и то же: в функцию будет передан указатель на переменную целого типа. В первом объявлении используется указатель, во втором — стандартное объявление массива. В последнем примере измененная форма объявления массива сообщает компилятору, что в функцию будет передан массив неопределенной длины. Как видно, длина массива не имеет для функции никакого значения, потому что в С проверка границ массива не выполняется. Эту функцию можно объявить даже так:
<pre>
void func1(int x[32])
{
  /* ... */
}
</pre>
<p class="tj">И при этом программа будет выполнена правильно, потому что компилятор не создает массив из 32 элементов, а только подготавливает функцию к приему указателя.
<hr><a href="../main.htm#04">Содержание</a> | <a href="0402.htm">&lt;&lt;&lt;</a> | <a href="0404.htm">&gt;&gt;&gt;</a>


</body>
</html>
