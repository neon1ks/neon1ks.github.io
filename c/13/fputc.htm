<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Функция fputc - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head><body>
<a href="../main.htm#13">Содержание</a> | <a href="13.htm#00">Глава 13</a><hr>
<h1>Функция fputc</h1>
<pre>
#include &lt;stdio.h&gt;
int fputc(int <em>ch</em>, FILE *<em>stream</em>);
</pre>
<p class="tj">Функция <kbd>fputc()</kbd> записывает символ <em>ch</em> в текущую позицию потока <em>stream</em>, a затем увеличивает указатель текущей позиции файла. Хотя на практике при объявлении символа <em>ch</em> он всегда имеет тип <kbd>int</kbd>, функцией <kbd>fputc()</kbd> тип символа преобразуется в <kbd>unsigned char</kbd>. Поскольку в момент вызова символьный аргумент преобразуется к целому типу, в качестве аргументов обычно можно использовать и символьные переменные. При использовании целого значения, старший байт попросту отбрасывается.
<p class="tj">Значением, возвращаемым функцией <kbd>fputc()</kbd>, является значение записанного символа. При возникновении ошибки возвращается значение <kbd>EOF</kbd>. Если файл открыт для выполнения операций в двоичном режиме, значение <kbd>EOF</kbd> тоже может оказаться символом. Поэтому, чтобы определить, возникла ли ошибка на самом деле, в таких случаях придется использовать функцию <kbd>ferror()</kbd>.
<h2>Пример</h2>
<p class="tj">Приведенная функция записывает в заданный поток содержимое строки.
<pre>
void write_string(char *str, FILE *fp)
{
  while(*str) if(!ferror(fp)) fputc(*str++, fp);
}
</pre>
<h2>Зависимые функции</h2>
<a href="fgetc.htm">fgetc()</a>  <a href="fopen.htm">fopen()</a>  <a href="fprintf.htm">fprintf()</a>  <a href="fread.htm">fread()</a>  <a href="fwrite.htm">fwrite()</a>
<p>
</p>
<hr><a href="../main.htm#13">Содержание</a> | <a href="13.htm#00">Глава 13</a>
</body></html>