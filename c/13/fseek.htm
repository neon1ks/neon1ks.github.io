<!DOCTYPE HTML>
<html lang="ru">
<HEAD>
<TITLE>Р¤СѓРЅРєС†РёСЏ fseek - cРїСЂР°РІРѕС‡РЅРёРє РїРѕ РЎРё</TITLE>
<meta charset="utf-8"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#13">РЎРѕРґРµСЂР¶Р°РЅРёРµ</A> | <A href="13.htm#00">Р“Р»Р°РІР° 13</A><HR>
<H1>Р¤СѓРЅРєС†РёСЏ fseek</H1>








<PRE>
#include &lt;stdio.h&gt;
int fseek(FILE *<I>stream</I>, long int <I>offset</I>, int <I>origin</I>);
</PRE>
<P class="tj">Р¤СѓРЅРєС†РёСЏ <KBD>fseek()</KBD> СѓСЃС‚Р°РЅР°РІР»РёРІР°РµС‚ СѓРєР°Р·Р°С‚РµР»СЊ С‚РµРєСѓС‰РµР№ РїРѕР·РёС†РёРё С„Р°Р№Р»Р°, СЃРІСЏР·Р°РЅРЅРѕРіРѕ СЃ РїРѕС‚РѕРєРѕРј <I>stream</I>, РІ СЃРѕРѕС‚РІРµС‚СЃС‚РІРёРё СЃРѕ Р·РЅР°С‡РµРЅРёСЏРјРё РЅР°С‡Р°Р»Р° РѕС‚СЃС‡РµС‚Р° <I>origin</I> Рё СЃРјРµС‰РµРЅРёСЏ <I>offset</I>. РќР°Р·РЅР°С‡РµРЅРёРµ СЌС‚РѕР№ С„СѓРЅРєС†РёРё вЂ” РїРѕРґРґРµСЂР¶РёРІР°С‚СЊ РѕРїРµСЂР°С†РёРё РІРІРѕРґР°/РІС‹РІРѕРґР° СЃ РїСЂРѕРёР·РІРѕР»СЊРЅС‹Рј РґРѕСЃС‚СѓРїРѕРј. РџР°СЂР°РјРµС‚СЂ <I>offset</I> СЂР°РІРµРЅ РєРѕР»РёС‡РµСЃС‚РІСѓ Р±Р°Р№С‚РѕРІ, РЅР° РєРѕС‚РѕСЂС‹Рµ Р±СѓРґРµС‚ СЃРјРµС‰РµРЅ РІРЅСѓС‚СЂРµРЅРЅРёР№ СѓРєР°Р·Р°С‚РµР»СЊ С„Р°Р№Р»Р° РѕС‚РЅРѕСЃРёС‚РµР»СЊРЅРѕ РЅР°С‡Р°Р»Р° РѕС‚СЃС‡РµС‚Р°, Р·Р°РґР°РЅРЅРѕРіРѕ РїР°СЂР°РјРµС‚СЂРѕРј <I>origin</I>. B РєР°С‡РµСЃС‚РІРµ Р·РЅР°С‡РµРЅРёСЏ РґР»СЏ РїР°СЂР°РјРµС‚СЂР° <I>origin</I> РґРѕР»Р¶РµРЅ Р±С‹С‚СЊ РІР·СЏС‚ РѕРґРёРЅ РёР· СЃР»РµРґСѓСЋС‰РёС… РјР°РєСЂРѕСЃРѕРІ (РѕРїСЂРµРґРµР»РµРЅРЅС‹С… РІ Р·Р°РіРѕР»РѕРІРєРµ <KBD>&lt;stdio.h&gt;</KBD>).</P>
<TABLE align=center border=1 width=100%>
<TR><TH><I>РРјСЏ</I><TH><I>РќР°Р·РЅР°С‡РµРЅРёРµ</I>
<TR><TD><KBD>SEEK_SET</KBD><TD>РџРѕРёСЃРє СЃ РЅР°С‡Р°Р»Р° С„Р°Р№Р»Р°
<TR><TD><KBD>SEEK_CUR</KBD><TD>РџРѕРёСЃРє СЃ С‚РµРєСѓС‰РµР№ РїРѕР·РёС†РёРё
<TR><TD><KBD>SEEK_END</KBD><TD>РџРѕРёСЃРє СЃ РєРѕРЅС†Р° С„Р°Р№Р»Р°
</TABLE>
<P class="tj">РќСѓР»РµРІРѕРµ Р·РЅР°С‡РµРЅРёРµ РІРѕР·РІСЂР°С‚Р° СЃРІРёРґРµС‚РµР»СЊСЃС‚РІСѓРµС‚ РѕР± СѓСЃРїРµС€РЅРѕРј РІС‹РїРѕР»РЅРµРЅРёРё С„СѓРЅРєС†РёРё <KBD>fseek()</KBD>, Р° РЅРµРЅСѓР»РµРІРѕРµ вЂ” Рѕ РІРѕР·РЅРёРєРЅРѕРІРµРЅРёРё СЃР±РѕСЏ.
<P class="tj">Р’РѕРѕР±С‰Рµ РіРѕРІРѕСЂСЏ, С„СѓРЅРєС†РёСЋ <KBD>fseek()</KBD> СЃР»РµРґСѓРµС‚ РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ С‚РѕР»СЊРєРѕ РїСЂРё СЂР°Р±РѕС‚Рµ СЃ РґРІРѕРёС‡РЅС‹РјРё С„Р°Р№Р»Р°РјРё. РџСЂРё РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРё Р¶Рµ СЃ С‚РµРєСЃС‚РѕРІС‹Рј С„Р°Р№Р»РѕРј РїР°СЂР°РјРµС‚СЂ <I>origin</I> РґРѕР»Р¶РµРЅ РёРјРµС‚СЊ Р·РЅР°С‡РµРЅРёРµ <KBD>SEEK_SET</KBD>, Р° РїР°СЂР°РјРµС‚СЂ <I>offset</I> вЂ” Р·РЅР°С‡РµРЅРёРµ, РїРѕР»СѓС‡РµРЅРЅРѕРµ РІ СЂРµР·СѓР»СЊС‚Р°С‚Рµ РІС‹Р·РѕРІР° С„СѓРЅРєС†РёРё <KBD>ftell()</KBD> РґР»СЏ С‚РѕРіРѕ Р¶Рµ С„Р°Р№Р»Р°, РёР»Рё РЅСѓР»СЊ (С‡С‚РѕР±С‹ СѓСЃС‚Р°РЅРѕРІРёС‚СЊ СѓРєР°Р·Р°С‚РµР»СЊ С‚РµРєСѓС‰РµР№ РїРѕР·РёС†РёРё С„Р°Р№Р»Р° РЅР° РЅР°С‡Р°Р»Рѕ).
<P class="tj">Р¤СѓРЅРєС†РёСЏ <KBD>fseek()</KBD> РѕС‡РёС‰Р°РµС‚ РїСЂРёР·РЅР°Рє РєРѕРЅС†Р° С„Р°Р№Р»Р°, СЃРІСЏР·Р°РЅРЅС‹Р№ СЃ Р·Р°РґР°РЅРЅС‹Рј РїРѕС‚РѕРєРѕРј. Р‘РѕР»РµРµ С‚РѕРіРѕ, РѕРЅР° Р°РЅРЅСѓР»РёСЂСѓРµС‚ Р»СЋР±РѕР№ СЃРёРјРІРѕР», СЂР°РЅРµРµ РІРѕР·РІСЂР°С‰РµРЅРЅС‹Р№ РІ С‚РѕС‚ Р¶Рµ РїРѕС‚РѕРє С‡РµСЂРµР· РІС‹Р·РѕРІ С„СѓРЅРєС†РёРё <KBD>ungetc()</KBD> (СЃРј. СЂР°Р·РґРµР» <KBD>ungetc</KBD>).
<H2>РџСЂРёРјРµСЂ</H2>
<P class="tj">РџСЂРёРІРµРґРµРЅРЅР°СЏ С„СѓРЅРєС†РёСЏ РїСЂРѕРёР·РІРѕРґРёС‚ РїРѕРёСЃРє Р·Р°РґР°РЅРЅРѕР№ СЃС‚СЂСѓРєС‚СѓСЂС‹, РёРјРµСЋС‰РµР№ С‚РёРї <KBD>addr</KBD>. РћР±СЂР°С‚РёС‚Рµ РІРЅРёРјР°РЅРёРµ РЅР° РёСЃРїРѕР»СЊР·РѕРІР°РЅРёРµ РѕРїРµСЂР°С‚РѕСЂР° <KBD>sizeof</KBD> РґР»СЏ РїРѕР»СѓС‡РµРЅРёСЏ СЂР°Р·РјРµСЂР° СЃС‚СЂСѓРєС‚СѓСЂС‹.
<PRE>
struct addr {
  char name[40];
  char street[40];
  char city[40];
  char state[3];
  char zip[10];
} info;

void find(long int client_num)
{
  FILE *fp;

  if((fp=fopen("mail", "rb")) == NULL) {
    printf("РќРµ СѓРґР°РµС‚СЃСЏ РѕС‚РєСЂС‹С‚СЊ С„Р°Р№Р».\n");
    exit(1);
  }

  /* РїРѕРёСЃРє РїРѕРґС…РѕРґСЏС‰РµР№ СЃС‚СЂСѓРєС‚СѓСЂС‹ */
  fseek(fp, client_num*sizeof(struct addr), SEEK_SET);

  /* СЃС‡РёС‚С‹РІР°РЅРёРµ РґР°РЅРЅС‹С… РІ РїР°РјСЏС‚СЊ */
  fread(&info, sizeof(struct addr), 1, fp);

  fclose(fp);
}
</PRE>
<H2>Р—Р°РІРёСЃРёРјС‹Рµ С„СѓРЅРєС†РёРё</H2>
<A href="ftell.htm">ftell()</A>  <A href="rewind.htm">rerwind()</A>  <A href="fopen.htm">fopen()</A>  <A href="fgetpos.htm">fgetpos()</A>  <A href="fsetpos.htm">fsetpos()</A>


<p>






</p>
<small>
 
</small><HR><A href="../main.htm#13">РЎРѕРґРµСЂР¶Р°РЅРёРµ</A> | <A href="13.htm#00">Р“Р»Р°РІР° 13</A>
</BODY>
</html>
