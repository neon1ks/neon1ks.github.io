<!DOCTYPE HTML>
<html lang="ru">
<HEAD>
<TITLE>Р¤СѓРЅРєС†РёСЏ clearerr - cРїСЂР°РІРѕС‡РЅРёРє РїРѕ РЎРё</TITLE>
<meta charset="utf-8"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#13">РЎРѕРґРµСЂР¶Р°РЅРёРµ</A> | <A href="13.htm#00">Р“Р»Р°РІР° 13</A><HR>
<H1>Р¤СѓРЅРєС†РёСЏ clearerr</H1>








<PRE>
#include &lt;stdio.h&gt;
void clearerr(FILE *<I>stream</I>);
</PRE>
<P class="tj">Р¤СѓРЅРєС†РёСЏ <KBD>clearerr()</KBD> СЃР±СЂР°СЃС‹РІР°РµС‚ (С‚.Рµ. СѓСЃС‚Р°РЅР°РІР»РёРІР°РµС‚ СЂР°РІРЅС‹Рј РЅСѓР»СЋ) РїСЂРёР·РЅР°Рє РѕС€РёР±РєРё, СЃРІСЏР·Р°РЅРЅС‹Р№ СЃ РїРѕС‚РѕРєРѕРј, РЅР° РєРѕС‚РѕСЂС‹Р№ СѓРєР°Р·С‹РІР°РµС‚ СЌР»РµРјРµРЅС‚ <I>stream</I>. РџСЂРё СЌС‚РѕРј С‚Р°РєР¶Рµ СЃР±СЂР°СЃС‹РІР°РµС‚СЃСЏ РїСЂРёР·РЅР°Рє РєРѕРЅС†Р° С„Р°Р№Р»Р°.
<P class="tj">РџСЂРё СѓСЃРїРµС€РЅРѕРј РѕР±СЂР°С‰РµРЅРёРё Рє С„СѓРЅРєС†РёРё <KBD>fopen()</KBD> РїСЂРёР·РЅР°РєРё РѕС€РёР±РѕРє РґР»СЏ РєР°Р¶РґРѕРіРѕ РїРѕС‚РѕРєР° РїРµСЂРІРѕРЅР°С‡Р°Р»СЊРЅРѕ СѓСЃС‚Р°РЅР°РІР»РёРІР°СЋС‚СЃСЏ СЂР°РІРЅС‹РјРё РЅСѓР»СЋ. РџСЂРё СЂР°Р±РѕС‚Рµ СЃ С„Р°Р№Р»Р°РјРё РѕС€РёР±РєРё РјРѕРіСѓС‚ РІРѕР·РЅРёРєР°С‚СЊ РїРѕ СЂР°Р·Р»РёС‡РЅС‹Рј РїСЂРёС‡РёРЅР°Рј, РјРЅРѕРіРёРµ РёР· РєРѕС‚РѕСЂС‹С… Р·Р°РІРёСЃСЏС‚ РѕС‚ РєРѕРЅРєСЂРµС‚РЅРѕР№ СЃРёСЃС‚РµРјС‹. РСЃС‚РёРЅРЅСѓСЋ РїСЂРёСЂРѕРґСѓ РѕС€РёР±РєРё РјРѕР¶РЅРѕ РѕРїСЂРµРґРµР»РёС‚СЊ РІ СЂРµР·СѓР»СЊС‚Р°С‚Рµ РІС‹Р·РѕРІР° С„СѓРЅРєС†РёРё <KBD>perror()</KBD>, РєРѕС‚РѕСЂР°СЏ РІС‹РІРѕРґРёС‚ СЃРѕРѕР±С‰РµРЅРёРµ, РѕРїРёСЃС‹РІР°СЋС‰РµРµ РѕС€РёР±РєСѓ (СЃРј. РѕРїРёСЃР°РЅРёРµ С„СѓРЅРєС†РёРё <KBD>perror()</KBD>).
<H2>РџСЂРёРјРµСЂ</H2>
<P class="tj">РџСЂРёРІРµРґРµРЅРЅР°СЏ РЅРёР¶Рµ РїСЂРѕРіСЂР°РјРјР° РєРѕРїРёСЂСѓРµС‚ РѕРґРёРЅ С„Р°Р№Р» РІ РґСЂСѓРіРѕР№. РџСЂРё РІРѕР·РЅРёРєРЅРѕРІРµРЅРёРё РѕС€РёР±РєРё РІС‹РІРѕРґРёС‚СЃСЏ СЃРѕРѕР±С‰РµРЅРёРµ, РїРѕСЏСЃРЅСЏСЋС‰РµРµ РµРµ РїСЂРёСЂРѕРґСѓ.
<PRE>
/* РљРѕРїРёСЂРѕРІР°РЅРёРµ  РѕРґРЅРѕРіРѕ С„Р°Р№Р»Р°  РІ  РґСЂСѓРіРѕР№. */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char *argv[])
{
  FILE *in, *out;
  char ch;

  if(argc!=3) {
    printf("He РІРІРµРґРµРЅРѕ РёРјСЏ С„Р°Р№Р»Р°.\n");
    exit(1);
  }

  if((in=fopen(argv[1], "rb")) == NULL) {
    printf("РќРµРІРѕР·РјРѕР¶РЅРѕ РѕС‚РєСЂС‹С‚СЊ РІС…РѕРґРЅРѕР№ С„Р°Р№Р».\n");
    exit(1);
  }
  if((out=fopen(argv[2], "wb")) == NULL) {
    printf("HeРІoР·РјoР¶РЅo РѕС‚РєСЂС‹С‚СЊ РІС‹С…РѕРґРЅРѕР№ С„Р°Р№Р».\n");
    exit(1);
  }

  while(!feof(in)) {
    ch = getc(in);
    if(ferror(in)) {
      printf("РћС€РёР±РєР° С‡С‚РµРЅРёСЏ");
      clearerr(in);
      break;
    } else {
      if(!feof(in)) putc(ch, out);
      if(ferror(out)) {
        printf("РћС€РёР±РєР° Р·Р°РїРёСЃРё");
        clearerr(out);
        break;
      }
    }
  }
  fclose(in);
  fclose(out);

  return 0;
}
</PRE>
<H2>Р—Р°РІРёСЃРёРјС‹Рµ С„СѓРЅРєС†РёРё</H2>
<A href="feof.htm">feof()</A>  <A href="ferror.htm">ferror()</A>  <A href="perror.htm">perror()</A>


<p>






</p>
<small>
 
</small><HR><A href="../main.htm#13">РЎРѕРґРµСЂР¶Р°РЅРёРµ</A> | <A href="13.htm#00">Р“Р»Р°РІР° 13</A>
</BODY>
</html>
