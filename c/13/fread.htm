<!DOCTYPE HTML>
<html lang="ru">
<HEAD>
<TITLE>Р¤СѓРЅРєС†РёСЏ fread - cРїСЂР°РІРѕС‡РЅРёРє РїРѕ РЎРё</TITLE>
<meta charset="utf-8"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#13">РЎРѕРґРµСЂР¶Р°РЅРёРµ</A> | <A href="13.htm#00">Р“Р»Р°РІР° 13</A><HR>
<H1>Р¤СѓРЅРєС†РёСЏ fread</H1>








<PRE>
#include &lt;stdio.h&gt;
size_t fread(void *<I>buf</I>, size_t <I>size</I>, size_t <I>count</I>, FILE *<I>stream</I>);
</PRE>
<P class="tj">Р¤СѓРЅРєС†РёСЏ <KBD>fread()</KBD> С‡РёС‚Р°РµС‚ РёР· РїРѕС‚РѕРєР°, Р°РґСЂРµСЃСѓРµРјРѕРіРѕ СѓРєР°Р·Р°С‚РµР»РµРј <I>stream</I>, <I>count</I> РѕР±СЉРµРєС‚РѕРІ РґР»РёРЅРѕР№ <I>size</I> Р±Р°Р№С‚ Рё СЂР°Р·РјРµС‰Р°РµС‚ РёС… РІ РјР°СЃСЃРёРІРµ <I>buf</I>. Р—Р°С‚РµРј СѓРєР°Р·Р°С‚РµР»СЊ С‚РµРєСѓС‰РµР№ РїРѕР·РёС†РёРё С„Р°Р№Р»Р° СѓРІРµР»РёС‡РёРІР°РµС‚СЃСЏ РЅР° С‡РёСЃР»Рѕ, СЂР°РІРЅРѕРµ РїСЂРѕС‡РёС‚Р°РЅРЅРѕРјСѓ РєРѕР»РёС‡РµСЃС‚РІСѓ СЃРёРјРІРѕР»РѕРІ.
<P class="tj">Р’ РІРµСЂСЃРёРё C99 Рє РїР°СЂР°РјРµС‚СЂР°Рј <I>buf</I> Рё <I>stream</I> РїСЂРёРјРµРЅРµРЅ РєРІР°Р»РёС„РёРєР°С‚РѕСЂ <KBD>restrict</KBD>.
<P class="tj">Р¤СѓРЅРєС†РёСЏ <KBD>fread()</KBD> РІРѕР·РІСЂР°С‰Р°РµС‚ С‡РёСЃР»Рѕ СЂРµР°Р»СЊРЅРѕ РїСЂРѕС‡РёС‚Р°РЅРЅС‹С… СЌР»РµРјРµРЅС‚РѕРІ. Р•СЃР»Рё РѕРєР°Р·Р°Р»РѕСЃСЊ, С‡С‚Рѕ РїСЂРѕС‡РёС‚Р°РЅРѕ РјРµРЅСЊС€Рµ СЌР»РµРјРµРЅС‚РѕРІ, С‡РµРј С‚СЂРµР±РѕРІР°Р»РѕСЃСЊ РїСЂРё РІС‹Р·РѕРІРµ, Р·РЅР°С‡РёС‚, Р»РёР±Рѕ РїСЂРѕРёР·РѕС€Р»Р° РѕС€РёР±РєР° РїСЂРё РІС‹РїРѕР»РЅРµРЅРёРё РѕРїРµСЂР°С†РёРё, Р»РёР±Рѕ Р±С‹Р» РґРѕСЃС‚РёРіРЅСѓС‚ РєРѕРЅРµС† С„Р°Р№Р»Р°. РћРїСЂРµРґРµР»РёС‚СЊ, С‡С‚Рѕ РёРјРµРЅРЅРѕ РїСЂРѕРёР·РѕС€Р»Рѕ, РјРѕР¶РЅРѕ СЃ РїРѕРјРѕС‰СЊСЋ С„СѓРЅРєС†РёРё <KBD>feof()</KBD> РёР»Рё <KBD>ferror()</KBD>.
<P class="tj">Р•СЃР»Рё РїРѕС‚РѕРє РѕС‚РєСЂС‹РІР°РµС‚СЃСЏ РґР»СЏ РѕРїРµСЂР°С†РёР№ РІ С‚РµРєСЃС‚РѕРІРѕРј СЂРµР¶РёРјРµ, РјРѕРіСѓС‚ РІС‹РїРѕР»РЅСЏС‚СЊСЃСЏ РїСЂРµРѕР±СЂР°Р·РѕРІР°РЅРёСЏ РЅРµРєРѕС‚РѕСЂС‹С… РїРѕСЃР»РµРґРѕРІР°С‚РµР»СЊРЅРѕСЃС‚РµР№ СЃРёРјРІРѕР»РѕРІ, РЅР°РїСЂРёРјРµСЂ, РєРѕРјР±РёРЅР°С†РёСЏ РєРѕРґРѕРІ РІРѕР·РІСЂР°С‚Р° РєР°СЂРµС‚РєРё (ASCII 13) Рё РєРѕРЅС†Р° СЃС‚СЂРѕРєРё (ASCII 10) РїСЂРµРѕР±СЂР°Р·СѓРµС‚СЃСЏ РІ СЂР°Р·РґРµР»РёС‚РµР»СЊ СЃС‚СЂРѕРє.
<H2>РџСЂРёРјРµСЂ</H2>
<P class="tj">РЎР»РµРґСѓСЋС‰Р°СЏ РїСЂРѕРіСЂР°РјРјР° Р·Р°РїРёСЃС‹РІР°РµС‚ РІ РґРёСЃРєРѕРІС‹Р№ С„Р°Р№Р» СЃ РЅР°Р·РІР°РЅРёРµРј TEST РїСЏС‚СЊ С‡РёСЃРµР» СЃ РїР»Р°РІР°СЋС‰РµР№ Р·Р°РїСЏС‚РѕР№, РІР·СЏРІ РёС… РёР· РјР°СЃСЃРёРІР° <KBD>bal</KBD>. Р—Р°С‚РµРј РѕРЅР° С‡РёС‚Р°РµС‚ РёС… РёР· С„Р°Р№Р»Р° Рё Р·Р°РїРёСЃС‹РІР°РµС‚ РѕР±СЂР°С‚РЅРѕ РІ РјР°СЃСЃРёРІ.
<PRE>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
  FILE *fp;
  float bal[5] = { 1.1F, 2.2F, 3.3F, 4.4F, 5.5F };
  int i;

  /* Р·Р°РїРёСЃСЊ Р·РЅР°С‡РµРЅРёР№ */
  if((fp=fopen("test", "wb"))==NULL) {
    printf("РќРµ СѓРґР°С‘С‚СЃСЏ РѕС‚СЂС‹С‚СЊ С„Р°Р№Р».\n");
    exit(1);
  }

  if(fwrite(bal, sizeof(float), 5, fp) != 5) 
    printf("РћС€РёР±РєР° РїСЂРё Р·Р°РїРёСЃРё С„Р°Р№Р»Р°.");
  fclose(fp);

  /* С‡С‚РµРЅРёРµ Р·РЅР°С‡РµРЅРёР№ */
  if((fp=fopen("test", "rb"))==NULL) {
    printf("РќРµ СѓРґР°С‘С‚СЃСЏ РѕС‚СЂС‹С‚СЊ С„Р°Р№Р».\n");
    exit(1);
  }

  if(fread(bal, sizeof(float), 5, fp) != 5) {
    if(feof(fp)) printf("РџСЂРµР¶РґРµРІСЂРµРјРµРЅРЅРѕРµ РґРѕСЃС‚РёР¶РµРЅРёРµ РєРѕРЅС†Р° С„Р°Р№Р»Р°.");
    else printf("РћС€РёР±РєР° РїСЂРё С‡С‚РµРЅРёРё С„Р°Р№Р»Р°.");
  }
  fclose(fp);

  for(i=0; i&lt;5; i++)
    printf("%f ", bal[i]);  

  return 0;
}
</PRE>
<H2>Р—Р°РІРёСЃРёРјС‹Рµ С„СѓРЅРєС†РёРё</H2>
<A href="fwrite.htm">fwrite()</A>  <A href="fopen.htm">fopen()</A>  <A href="fscanf.htm">fscanf()</A>  <A href="fgetc.htm">fgetc()</A>  <A href="getc.htm">getc()</A>


<p>






</p>
<small>
 
</small><HR><A href="../main.htm#13">РЎРѕРґРµСЂР¶Р°РЅРёРµ</A> | <A href="13.htm#00">Р“Р»Р°РІР° 13</A>
</BODY>
</html>
