<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Функция ftell - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head><body>
<a href="../main.htm#13">Содержание</a> | <a href="13.htm#00">Глава 13</a><hr>
<h1>Функция ftell</h1>
<pre>
#include &lt;stdio.h&gt;
long int ftell(FILE *<em>stream</em>);
</pre>
<p class="tj">Функция <kbd>ftell()</kbd> возвращает текущее значение указателя позиции файла для заданного потока. В случае двоичных потоков это значение равно количеству байтов, которые отделяют указатель от начала файла. Для текстовых потоков возвращаемое значение может не иметь определенной интерпретации за исключением случая, когда оно является аргументом функции <kbd>fseek()</kbd>. Все дело в возможных преобразованиях символов, когда, например, комбинация кодов возврата каретки (ASCII 13) и конца строки (ASCII 10) заменяются разделителем строк, что влияет на размер файла.
<p class="tj">При возникновении ошибки функция <kbd>ftell()</kbd> возвращает значение -1.
<h2>Пример</h2>
<p class="tj">Данный фрагмент программы считывает текущее значение указателя позиции файла, связанного с потоком, который задается параметром <kbd>fp</kbd>.
<pre>
long int i;
if((i=ftell(fp)) == -1L)
  printf("Возникла ошибка при обработке файла.\n");
</pre>
<h2>Зависимые функции</h2>
<a href="fseek.htm">fseek()</a>  <a href="fgetpos.htm">fgetpos()</a>
<p>
</p>
<hr><a href="../main.htm#13">Содержание</a> | <a href="13.htm#00">Глава 13</a>
</body></html>