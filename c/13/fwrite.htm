<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Функция fwrite - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head>
<body>


<a href="../main.htm#13">Содержание</a> | <a href="13.htm#00">Глава 13</a><hr>
<h1>Функция fwrite</h1>
<pre>
#include &lt;stdio.h&gt;
size_t fwrite(const void *<em>buf</em>, size_t <em>size</em>, size_t <em>count</em>, FILE *<em>stream</em>);
</pre>
<p class="tj">Функция <kbd>fwrite()</kbd> записывает в поток, адресуемый указателем <em>stream</em>, <em>count</em> объектов длиной <em>size</em> байтов каждый из массива символов, адресуемого указателем <em>buf</em>. Затем указатель текущей позиции файла перемещается вперед на записанное количество символов.
<p class="tj">В версии C99 к параметрам <em>buf</em> и <em>stream</em> применен квалификатор <kbd>restrict</kbd>.
<p class="tj">Функция <kbd>fwrite()</kbd> возвращает число реально записанных элементов, которое при успешном выполнении функции будет равно числу затребованных элементов. Если же элементов записано меньше, чем указано при вызове, произошла ошибка.
<h2>Пример</h2>
<p class="tj">Данная программа записывает в файл TEST число с плавающей точкой (значение переменной <kbd>f</kbd>). Обратите внимание, что оператор <kbd>sizeof</kbd> используется и для определения количества байтов, занимаемых переменной с плавающей точкой, а также чтобы обеспечить переносимость.
<pre>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
int main(void)
{
  FILE *fp;
  float f=12.23;
  if((fp=fopen("test", "wb"))==NULL) {
    printf("Не удается открыть файл.\n");
    exit(1);
  }
  fwrite(&f, sizeof(float), 1, fp);
  fclose(fp);
  return 0;
}
</pre>
<h2>Зависимые функции</h2>
<a href="fread.htm">fread()</a>  <a href="fscanf.htm">fscanf()</a>  <a href="getc.htm">getc()</a>  <a href="fgetc.htm">fgetc()</a>
<p>
</p>
<hr><a href="../main.htm#13">Содержание</a> | <a href="13.htm#00">Глава 13</a>


</body></html>