<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Правило "неявного int" - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head>
<body>


<a href="../main.htm#06">Содержание</a> | <a href="0609.htm">&lt;&lt;&lt;</a> | <a href="0611.htm">&gt;&gt;&gt;</a><hr>
<h1>Правило "неявного int"</h1>
<p class="tj">Первоначальная версия С отличалась особенностью, которую иногда называют правилом "неявного <kbd>int</kbd>" (а также правилом "<kbd>int</kbd> по умолчанию"). Это правило состоит в том, что если спецификатор базового типа явно не указан, то подразумевается спецификатор <kbd>int</kbd>. Это правило было включено в стандарт С89, но в С99 это правило не вошло. (И, кроме того, не поддерживается в языке C++.) Так как правило "неявного <kbd>int</kbd>" теперь устарело, то в этой книге оно не используется. Однако из-за того, что во многих действующих программах это правило еще используется, то о нем следует немного рассказать.
<p class="tj">Больше всего правило "неявного <kbd>int</kbd>" использовалось при определении типа результата функции, т.е. при определении возвращаемого типа. Много лет назад большинство программистов, писавших программы на С, пользовались этим правилом, когда писали код функций, возвращавших результат типа <kbd>int</kbd>. Поэтому много лет назад такая функция, как
<pre>
int f(void) {
  /* ... */
  return 0;
}
</pre>
<p class="tj">часто могла быть написана таким образом:
<pre>
f(void) { /* int - возвращаемый тип по умолчанию */
  /* ... */
  return 0;
}
</pre>
<p class="tj">В первом случае возвращаемый тип <kbd>int</kbd> определяется явно. Во втором же — подразумевается по умолчанию.
<p class="tj">Правило "неявного <kbd>int</kbd>" применяется не только к значениям, возвращаемым функциями (хотя это было самое распространенное применение). Например, для С89 и более ранних вариантов С правильной является следующая функция:
<pre>
/* по умолчанию возвращается тип int,
   такой же тип, как и у параметров a и b */
f(register a, register b) {
  register c; /* переменная c по умолчанию
                 также будет иметь тип int */
  c = a + b;
  printf("%d", c);
  return c;
}
</pre>
<p class="tj">Здесь возвращаемым типом по умолчанию для <kbd>f()</kbd> является <kbd>int</kbd>; т.е. такой же тип по умолчанию, как и у параметров <kbd>а</kbd> и <kbd>b</kbd>, и у локальной переменной <kbd>c</kbd>.
<p class="tj">Помните, что правило "неявного <kbd>int</kbd>" не поддерживается в С99 или C++. Таким образом, использовать его в программах, совместимых с С89, не рекомендуется. Лучше всего явно определять каждый тип, используемый в вашей программе.
<hr><a href="../main.htm#06">Содержание</a> | <a href="0609.htm">&lt;&lt;&lt;</a> | <a href="0611.htm">&gt;&gt;&gt;</a>


</body>
</html>
