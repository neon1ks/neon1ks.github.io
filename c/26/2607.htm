<!DOCTYPE HTML>
<html lang="ru">
<HEAD>
<TITLE>Файл описания больше не нужен - cправочник по Си</TITLE>
<meta charset="utf-8">
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#26">Содержание</A> | <A href="2606.htm">&lt;&lt;&lt;</A> | <A href="2608.htm">&gt;&gt;&gt;</A><HR>
<H1>Файл описания больше не нужен</H1>








<P class="tj">Если вам приходилось создавать 16-разрядные программы для Windows, то вы помните, что при этом необходимо было использовать еще и <I>файлы описаний</I> (<I>definition files</I>). Что касается 16-разрядных версий Windows, все программы должны были иметь сопутствующие файлы описаний. Файл описаний — это просто текстовый файл, который задает определенную информацию и параметры, которые необходимо указывать для 16-разрядной среды. Поскольку Windows 2000 имеет 32-разрядную архитектуру (а также другие усовершенствования), файлы описаний, как правило, не являются больше необходимым атрибутом для программ, работающих под управлением Windows 2000. Если вы новичок в программировании для Windows и не имеете никакого представления о файлах описаний, то следующий материал будет вам, конечно же, полезен.
<P class="tj">Все файлы описаний имеют расширение .DEF. Например, файл описаний для нашей программы-заготовки мог бы иметь название SKELL.DEF. Ниже приведен файл описания, который можно использовать для обеспечения нисходящей совместимости с Windows 3.1:
<PRE>
DESCRIPTION 'Skeleton Program'
EXETYPE WINDOWS
CODE PRELOAD MOVEABLE DISCARDABLE
DATA PRELOAD MOVEABLE MULTIPLE
HEAPSIZE 8192
STACKSIZE 8192
EXPORTS WindowFunc
</PRE>
<P class="tj">Приведенный файл определяет название программы и ее описание, причем оба эти параметра не являются обязательными. Здесь также формулируется утверждение, что исполняемый файл будет совместим с Windows (а не с DOS, например). Оператор <KBD>CODE</KBD> сообщает Windows 2000, что при запуске программы ее необходимо загрузить всю целиком (элемент PRELOAD), что код программы разрешается перемещать в памяти (элемент MOVEABLE) и что данный код может быть удален из памяти и загружен повторно, когда в этом возникнет необходимость (DISCARDABLE). К тому же, этот файл определяет то, что данные для прикладной программы должны быть загружены в самом начале ее выполнения, а также допускается их перемещение в другие области памяти. Здесь же устанавливается, что каждый экземпляр программы имеет свои собственные данные (MULTIPLE). Следующие строки сообщают, что программе выделяются динамически распределяемая область памяти (куча) и стек указанных размеров. И, наконец, указывается имя экспортируемой функции окна. Экспорт функции предоставляет возможность системе Windows 3.1 осуществлять ее вызов.
<P class="tj">Не забывайте, что файлы описаний редко используются в процессе программирования для 32-разрядных версий Windows.


<p>






</p>


<HR><A href="../main.htm#26">Содержание</A> | <A href="2606.htm">&lt;&lt;&lt;</A> | <A href="2608.htm">&gt;&gt;&gt;</A>
</BODY>
</html>
