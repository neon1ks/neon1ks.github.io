<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Объявление переменных внутри цикла for - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head><body>
<a href="../main.htm#11">Содержание</a> | <a href="1108.htm">&lt;&lt;&lt;</a> | <a href="1110.htm">&gt;&gt;&gt;</a><hr>
<h1>Объявление переменных внутри цикла for</h1>
<p class="tj">С99 расширяет возможности цикла <kbd>for</kbd>, разрешая объявление одной или нескольких переменных в части инициализации цикла. Область видимости переменной, объявленной таким способом, ограничена блоком программы, управляемым выражением <kbd>for</kbd>. To есть переменная, объявленная внутри цикла <kbd>for</kbd>, будет локализована внутри этого цикла. Эта возможность появилась в языке С потому, что управляющая переменная цикла <kbd>for</kbd> часто необходима только внутри этого цикла. А так как эта переменная локализована внутри цикла, то удается избежать ненужных побочных эффектов.
<p class="tj">Вот пример, в котором переменная объявляется в части инициализации цикла <kbd>for</kbd>:
<pre>
#include &lt;stdio.h&gt;
int main(void)
{
  // объявить i внутри for
  for(int i=0; i &lt; 10; i++)
    printf("%d ", i);
  return 0;
}
</pre>
<p class="tj">Здесь переменная <kbd>i</kbd> объявляется внутри цикла <kbd>for</kbd>, а не до начала его работы.
<p class="tj">Как уже говорилось, переменная, объявленная внутри цикла <kbd>for</kbd>, локализуется внутри этого цикла. Проанализируйте следующую программу. Обратите внимание, что переменная <kbd>i</kbd> объявляется дважды: в начале <kbd>main()</kbd> и внутри цикла <kbd>for</kbd>.
<pre>
#include &lt;stdio.h&gt;
int main(void)
{
  int i = -99;
  // объявить i внутри for
  for(int i=0; i &lt; 10; i++)
    printf("%d ", i);
  printf("\n");
  printf("Значение i равно: %d", i); // выводит -99
  return 0;
}
</pre>
<p class="tj">Эта программа выводит следующее:
<pre>0 1 2 3 4 5 6 7 8 9
Значение i равно -99</pre>
<p class="tj">Как показывает вывод, как только заканчивается цикл <kbd>for</kbd>, заканчивается и область видимости переменной <kbd>i</kbd>, объявленной внутри этого цикла. Таким образом, последнее выражение <kbd>printf()</kbd> выводит <kbd>-99</kbd>, то есть значение <kbd>i</kbd>, объявленное в начале <kbd>main()</kbd>.
<p class="tj">Возможность объявлять управляющие переменные внутри цикла <kbd>for</kbd>, уже довольнотаки долгое время имеется в языке C++, и теперь такая возможность используется достаточно широко. Есть надежда, что большинство С-программистов будут делать то же самое.
<p>
</p>
<hr><a href="../main.htm#11">Содержание</a> | <a href="1108.htm">&lt;&lt;&lt;</a> | <a href="1110.htm">&gt;&gt;&gt;</a>
</body>
</html>
