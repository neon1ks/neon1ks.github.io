<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Неявный int больше не поддерживается - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head><body>
<a href="../main.htm#11">Содержание</a> | <a href="1116.htm">&lt;&lt;&lt;</a> | <a href="1118.htm">&gt;&gt;&gt;</a><hr>
<h1>Неявный int больше не поддерживается</h1>
<p class="tj">Несколько лет назад язык C++ отменил правило неявного <kbd>int</kbd>, а с приходом С99 этому примеру последовал и язык С. В С89 правило неявного <kbd>int</kbd> гласит, что если явный спецификатор типа отсутствует, то подразумевается тип <kbd>int</kbd>. Больше всего это правило применялось к возвращаемому типу функций. В прошлом С-программисты часто пропускали <kbd>int</kbd> при объявлении функций, которые возвращали значение такого типа. Например, в ранние времена языка С функцию <kbd>main()</kbd> часто писали примерно так:
<pre>
main ()
{
  /* ... */
}
</pre>
<p class="tj">При таком подходе возвращаемым типом по умолчанию просто считался <kbd>int</kbd>. В С99 (да и в C++) такого правила присвоения типа по умолчанию больше нет, и <kbd>int</kbd> приходится указывать явно, что и делается во всех программах, приведенных в этой книге.
<p class="tj">А вот другой пример. В прошлом функция, такая как
<pre>
int isEven(int val)
{
  return !(val%2);
}
</pre>
<p class="t">часто писалась примерно так:
<pre>
/* по умолчанию используется целый тип */
isEven(int val)
{
  return !(val%2);
}
</pre>
<p class="tj">В первом экземпляре кода возвращаемый тип <kbd>int</kbd> указывается явно. Во втором — это подразумевается по умолчанию.
<p class="tj">Правило неявного <kbd>int</kbd> применялось не только к возвращаемым значениям функций (хотя здесь оно применялось чаще всего). Например, в С89 и более ранних версиях функцию <kbd>isEven()</kbd> можно было писать примерно еще и так:
<pre>
isEven(const val)
{
  return !(val%2);
}
</pre>
<p class="tj">Здесь параметр <kbd>val</kbd> также имеет по умолчанию тип <kbd>int</kbd> — в этом случае <kbd>const int</kbd>. И опять, это присвоение типа по умолчанию <kbd>int</kbd> не поддерживается в Стандарте С99.</p>
<table class="table table-bordered">
<tr><td class="tdnote">На заметку<td class="tj">В действительности компилятор, совместимый с С99, может принять код, содержащий неявные типы <kbd>int</kbd>, даже после того, как выдаст предупреждение об ошибке. Так что иногда можно компилировать и старый код. Однако компилятор, совместимый с С99, не обязан принимать такой код.
</table>
<p>
</p>
<hr><a href="../main.htm#11">Содержание</a> | <a href="1116.htm">&lt;&lt;&lt;</a> | <a href="1118.htm">&gt;&gt;&gt;</a>
</body>
</html>
