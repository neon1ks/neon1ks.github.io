<!DOCTYPE HTML>
<html lang="ru">
<HEAD>
<TITLE>Назначенные инициализаторы - cправочник по Си</TITLE>
<meta charset="utf-8">
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#11">Содержание</A> | <A href="1111.htm">&lt;&lt;&lt;</A> | <A href="1113.htm">&gt;&gt;&gt;</A><HR>
<H1>Назначенные инициализаторы</H1>
<P class='tj'>В С99 появилась новая для С возможность, которая будет особенно полезна для программистов, работающих с разреженными массивами. Это <I>назначенные инициализаторы</I>. Такие инициализаторы бывают двух видов: одного вида — для массивов, а другого — для структур и объединений. Для массивов используется назначенные инициализаторы такого вида:
<PRE><I>[индекс] = знач</I></PRE>
<P class='t'>где <I>индекс</I> указывает элемент, инициализируемый с помощью значения <I>знач</I> (то есть тот элемент, которому присваивается начальное значение <I>знач</I>). Например,
<PRE>int а[10] = { [0] = 100, [3] = 200};</PRE>
<P class='tj'>В данном случае инициализируются только элементы с индексами 0 и 3.
<P class='tj'>Для членов структур или объединений используется назначенные инициализаторы такого вида:
<PRE><I>.имя-члена</I></PRE>
<P class='tj'>Применение к структуре назначенного инициализатора позволяет легко инициализировать только нужные члены структуры. Например,
<PRE>
struct mystruct {
  int a;
  int b;
  int c;
} ob = { .c = 30, .a = 10 };
</PRE>
<P class='tj'>В данном случае член <KBD>b</KBD> остается неинициализированным.
<P class='tj'>Кроме того, применение назначенных инициализаторов дает возможность инициализировать структуру, даже не зная порядка расположения ее членов. Это полезно для предопределенных структур, таких как <KBD>div_t</KBD>, или для структур, определенных некоторыми независимыми производителями.
<p>
</p>
<HR><A href="../main.htm#11">Содержание</A> | <A href="1111.htm">&lt;&lt;&lt;</A> | <A href="1113.htm">&gt;&gt;&gt;</A>
</BODY>
</html>
