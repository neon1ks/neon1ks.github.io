<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Назначенные инициализаторы - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head><body>
<a href="../main.htm#11">Содержание</a> | <a href="1111.htm">&lt;&lt;&lt;</a> | <a href="1113.htm">&gt;&gt;&gt;</a><hr>
<h1>Назначенные инициализаторы</h1>
<p class='tj'>В С99 появилась новая для С возможность, которая будет особенно полезна для программистов, работающих с разреженными массивами. Это <em>назначенные инициализаторы</em>. Такие инициализаторы бывают двух видов: одного вида — для массивов, а другого — для структур и объединений. Для массивов используется назначенные инициализаторы такого вида:
<pre><em>[индекс] = знач</em></pre>
<p class='t'>где <em>индекс</em> указывает элемент, инициализируемый с помощью значения <em>знач</em> (то есть тот элемент, которому присваивается начальное значение <em>знач</em>). Например,
<pre>int а[10] = { [0] = 100, [3] = 200};</pre>
<p class='tj'>В данном случае инициализируются только элементы с индексами 0 и 3.
<p class='tj'>Для членов структур или объединений используется назначенные инициализаторы такого вида:
<pre><em>.имя-члена</em></pre>
<p class='tj'>Применение к структуре назначенного инициализатора позволяет легко инициализировать только нужные члены структуры. Например,
<pre>
struct mystruct {
  int a;
  int b;
  int c;
} ob = { .c = 30, .a = 10 };
</pre>
<p class='tj'>В данном случае член <kbd>b</kbd> остается неинициализированным.
<p class='tj'>Кроме того, применение назначенных инициализаторов дает возможность инициализировать структуру, даже не зная порядка расположения ее членов. Это полезно для предопределенных структур, таких как <kbd>div_t</kbd>, или для структур, определенных некоторыми независимыми производителями.
<p>
</p>
<hr><a href="../main.htm#11">Содержание</a> | <a href="1111.htm">&lt;&lt;&lt;</a> | <a href="1113.htm">&gt;&gt;&gt;</a>
</body>
</html>
