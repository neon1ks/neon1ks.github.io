<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Директива #line - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head><body>
<a href="../main.htm#10">Содержание</a> | <a href="1007.htm">&lt;&lt;&lt;</a> | <a href="1009.htm">&gt;&gt;&gt;</a><hr>
<h1>Директива #line</h1>
<p class="tj">Директива <kbd>#line</kbd> изменяет содержимое <kbd>__LINE__</kbd> и <kbd>__FILE__</kbd>, которые являются зарезервированными идентификаторами в компиляторе. В первом из них содержится номер компилируемой в данный момент строки кода. А второй идентификатор — это строка, содержащая имя компилируемого исходного файла. В общем виде директива <kbd>#line</kbd> выглядит таким образом:
<pre>#line <em>номер "имя_файла"</em></pre>
<p class="t">где <em>номер</em> — это положительное целое число, которое становится новым значением <kbd>__LINE__</kbd>, а необязательное <em>имя_файла</em> — это любой допустимый идентификатор файла, становящийся новым значением <kbd>__FILE__</kbd>. Директива <kbd>#line</kbd> в основном используется для отладки и специальных применений.
<p class="tj">Например, следующий код определяет, что счетчик строк будет начинаться с 100, а оператор <kbd>printf()</kbd> выводит номер 102, потому что он расположен в третьей строке программы после оператора <kbd>#line 100</kbd>:
<pre>
#include &lt;stdio.h&gt;
#line 100                  /* установить счетчик строк */
int main(void)             /* строка 100 */
{                          /* строка 101 */
  printf("%d\n",__LINE__); /* строка 102 */
  return 0;
}
</pre>
<p>
</p>
<hr><a href="../main.htm#10">Содержание</a> | <a href="1007.htm">&lt;&lt;&lt;</a> | <a href="1009.htm">&gt;&gt;&gt;</a>
</body>
</html>
