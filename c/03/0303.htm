<!DOCTYPE HTML>
<html lang="ru">
<head>
<title>Вложенные условные операторы if - cправочник по Си</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../work/css.css">
</head><body>
<a href="../main.htm#03">Содержание</a> | <a href="0302.htm">&lt;&lt;&lt;</a> | <a href="0304.htm">&gt;&gt;&gt;</a><hr>
<h1>Вложенные условные операторы if</h1>
<p class="tj">Оператор <kbd>if</kbd> является вложенным, если он вложен, т.е. находится внутри другого оператора <kbd>if</kbd> или <kbd>else</kbd>. В практике программирования вложенные условные операторы используются довольно часто. Во вложенном условном операторе фраза <kbd>else</kbd> всегда ассоциирована с ближайшим <kbd>if</kbd> в том же блоке, если этот <kbd>if</kbd> не ассоциирован с другой фразой <kbd>else</kbd>. Например:
<pre>
if(i)
{
  if(j) statement 1;
  if(k) statement 2; /* этот if */
  else  statement 3; /* ассоциирован с этим else */
}
else statement 4; /* ассоциирован с if(i) */
</pre>
<p class="tj">Последняя фраза <kbd>else</kbd> не ассоциирована с <kbd>if(j)</kbd> потому, что она находится в другом блоке. Эта фраза <kbd>else</kbd> ассоциирована с <kbd>if(i)</kbd>. Внутренняя фраза <kbd>else</kbd> ассоциирована с <kbd>if(k)</kbd>, потому что этот <kbd>if</kbd> — ближайший.
<p class="tj">Стандарт С89 допускает 15 уровней вложенности условных операторов, С99 — 127 уровней. В настоящее время большинство компиляторов допускают значительно большее количество уровней вложенности. Однако на практике необходимость в глубине вложенности, большей, чем несколько уровней, возникает довольно редко, так как увеличение глубины вложенности быстро запутывает программу и делает ее нечитаемой.
<p class="tj">В следующем примере вложенный оператор <kbd>if</kbd> используется в модернизированной программе для игры в магическое число. С его помощью играющий получает сообщение о характере ошибки:
<pre>
/* Магическое число, программа N3. */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
int main(void)
{
  int magic; /* магическое число */
  int guess; /* попытка игрока */
  magic = rand(); /* генерация магического числа */
  printf("Угадай магическое число: ");
  scanf("%d", &guess);
  if (guess == magic) {
    printf("** Верно **");
    printf("Магическое число равно %d\n", magic);
  }
  else {
    printf("** Неверно, ");
    if(guess &gt; magic) printf("слишком большое\n");
                         /* вложенный if */
    else printf("слишком малое\n");
  }
  return 0;
}
</pre>
<p>
</p>
<hr><a href="../main.htm#03">Содержание</a> | <a href="0302.htm">&lt;&lt;&lt;</a> | <a href="0304.htm">&gt;&gt;&gt;</a>
</body>
</html>
